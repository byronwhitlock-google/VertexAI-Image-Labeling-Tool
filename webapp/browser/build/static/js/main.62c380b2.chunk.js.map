{"version":3,"sources":["lib/UserConfig.js","SettingsDialog.js","HelpModal.js","AppHeader.js","ModalPopup.js","api/BaseApi.js","api/LabelsApi.js","api/DocumentListApi.js","api/GenerateCsvApi.js","EditLabels.js","GenerateCsvButton.js","Sidebar.js","RightClickMenu.js","Item.js","DocumentDetailedView.js","DocumentView.js","TabularView.js","ImportLabelsButton.js","TrainingView.js","App.js","serviceWorker.js","index.js"],"names":["UserConfig","clientId","this","bucketName","localStorage","getItem","projectId","thumbnailWidth","locationCsv","locationImport","setItem","useStyles","makeStyles","theme","root","margin","spacing","width","avatar","backgroundColor","blue","color","SettingsDialog","props","classes","onClose","selectedValue","open","config","useState","reloadOnClose","setReloadOnClose","Dialog","setTimeout","window","location","reload","aria-labelledby","Typography","variant","IconButton","aria-label","onClick","List","Divider","ListItem","className","noValidate","autoComplete","TextField","id","label","onChange","evt","target","value","persist","defaultValue","style","position","top","left","transform","background","borderRadius","boxShadow","cursor","p","HelpModal","React","setOpen","Button","Modal","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Box","padding","component","Tooltip","title","flexGrow","menuButton","marginRight","AppHeader","settingsOpen","setSettingsOpen","setHelpOpen","AppBar","Toolbar","Fragment","modal","display","alignItems","justifyContent","outline","paper","palette","border","shadows","ModalPopup","content","__html","Alert","severity","AlertTitle","dangerouslySetInnerHTML","BaseApi","accessToken","locationId","url","a","console","log","options","method","headers","getHeaders","fetch","response","handleResponse","data","body","JSON","stringify","res","json","Error","status","statusText","message","hasOwnProperty","error","LabelsApi","labelName","documentName","toPost","filename","post","labelPath","progressCallback","Axios","onDownloadProgress","progressEvent","dataChunks","currentTarget","trim","split","currentChunk","length","DocumentListApi","GenerateCsvApi","EditLabels","state","newLabel","handleClickOpen","bind","handleClose","updateLabelState","addLabel","removeLabel","setState","e","onLabelAdded","onLabelRemoved","button","ListItemText","primary","secondary","DialogTitle","DialogContent","DialogContentText","ListItemAvatar","edge","dense","Object","keys","labels","map","DialogActions","Component","GenerateCsvButton","list","fullList","isOpen","handleDocumentClick","newDocumentSrc","handleDocumentUpdate","componentDidMount","windowHeight","innerHeight","toggleDrawer","event","type","key","handleGenerateCsvClick","generateCsv","i","csvMap","documentLabels","wordLabels","path","numRecords","csv","setAlert","setError","Sidebar","context","handleLabelClick","onLabelSelected","selectedLabel","selected","filter","labelsFiltered","RightClickMenu","mouseX","mouseY","leftMouseClicked","selectedDocuments","documentNode","createRef","handleMouseOver","handleRightClick","handleMenuClick","node","document","createTextRange","range","moveToElementText","select","getSelection","selection","createRange","selectNodeContents","removeAllRanges","addRange","warn","preventDefault","multiSelected","selectText","current","clientX","clientY","onApplyLabelToMultipleDocuments","selectedKeys","onNonItemClick","onApplyLabelToDocument","ref","onMouseOver","onContextMenu","handleContextMenu","children","Menu","keepMounted","anchorReference","anchorPosition","undefined","MenuItem","Item","styled","Paper","typography","body2","textAlign","text","height","bgcolor","rotateStyleLeft","fontSize","zIndex","rotateStyleRight","DocumentDetailedView","direction","setDirection","show","modelImage","src","marginTop","RightClickMenuSelectable","createSelectable","DocumentView","handleResize","windowWidth","innerWidth","handleSelection","handleNonItemClick","handleUnselectClick","idx","ctrlKey","indexOf","item","addEventListener","rowCount","Math","ceil","documentListFiltered","floor","columnCount","Grid","container","onSelection","enabled","onEndSelection","handleEndSelection","onBeginSelection","handleBeginSelection","columnWidth","parseInt","rowHeight","columnIndex","rowIndex","isSelected","selectableKey","CardContent","CardActions","TabPanel","index","other","role","hidden","sx","onImportLabels","importLabelFilename","TrainingView","csvFilename","sampleImportLabelJson","NaN","handleChangeCsvFilename","handleChangeImportLabelFilename","defaultFilename","valign","iu","size","FormControlLabel","control","Checkbox","defaultChecked","ImportLabelsButton","labelsImported","App","selectedModelHash","documentList","autoMLModelList","autoMLPrediction","tabValue","alert","refreshDocumentList","forceUpdateHandler","handleErrorClose","handleApplyLabelToDocument","handleApplyLabelToMulitpleDocuments","refreshLabels","handleLabelSelected","handleLabelAdded","handleLabelRemoved","handleImportLabels","selectedDocument","pathname","replace","handleChangeLabel","lApi","getLabels","selectedDocumentIndexes","doc","setLabel","prevLabelName","currentLabel","labelsApi","canLoadDocumentList","importLabels","progress","refreshAll","csvApi","toLowerCase","includes","filterText","filterLabels","newValue","tabId","attributes","ownerElement","substr","filteredList","push","dlApi","loadDocumentList","documents","userProfile","borderBottom","borderColor","Tabs","handleChange","Tab","icon","a11yProps","onChangeIndex","xs","placeholder","handleSearchBarchChange","onCancelSearch","handleSerachBarClear","withRouter","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.62c380b2.chunk.js","sourcesContent":["  /*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nclass UserConfig {\n    // This only changes per server installation!\n  clientId =  '976239279537-uo7h85trcol8nl5shb0k9ai7iufbs2ta.apps.googleusercontent.com';\n\n  constructor(){\n\n    this.bucketName = localStorage.getItem(\"bucketName\")|| \"\"\n    this.projectId = localStorage.getItem(\"projectId\") || \"\"    \n    this.thumbnailWidth = localStorage.getItem(\"thumbnailWidth\") || \"300\"   \n\n    this.locationCsv = localStorage.getItem(\"locationCsv\")|| \"\"\n    this.locationImport = localStorage.getItem(\"locationImport\")|| \"\"\n  }\n  \n  persist() {\n    localStorage.setItem(\"bucketName\",this.bucketName)\n    localStorage.setItem(\"projectId\",this.projectId)\n    localStorage.setItem(\"thumbnailWidth\",this.thumbnailWidth)\n\n    localStorage.setItem(\"locationCsv\",this.locationCsv)\n    localStorage.setItem(\"locationImport\",this.locationImport)\n\n    \n  }\n\n\n}\nexport default UserConfig\n\n\n\n","\n/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport Dialog from '@material-ui/core/Dialog';\nimport PersonIcon from '@material-ui/icons/Person';\nimport AddIcon from '@material-ui/icons/Add';\nimport Typography from '@material-ui/core/Typography';\nimport { blue } from '@material-ui/core/colors';\nimport Divider from '@material-ui/core/Divider';\nimport TextField from '@material-ui/core/TextField';\nimport UserConfig from './lib/UserConfig.js'\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme) =>({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    }\n  },\n  avatar: {\n    backgroundColor: blue[100],\n    color: blue[600],\n  }\n}));\n\nexport default function  SettingsDialog(props) {\n  const classes = useStyles();\n  const { onClose, selectedValue, open } = props;\n  \n  var config = new UserConfig();\n  const [reloadOnClose, setReloadOnClose] = useState(false);\n\n  const handleClose = () => {\n    onClose(selectedValue);   \n    if (reloadOnClose){\n      setTimeout(()=>window.location.reload(true),1);\n    }\n  };\n\n  const handleListItemClick = (value) => {\n    onClose(value);\n  };\n\n  const handleUpdateProjectId = (evt)=> {\n    if (config.projectId != evt.target.value) {\n      config.projectId = evt.target.value;\n      config.persist()\n      setReloadOnClose(true)\n    }\n  };\n\n  const handleUpdateThumbnailWidth = (evt)=> {\n    if (config.thumbnailWidth != evt.target.value) {\n      config.thumbnailWidth = evt.target.value;\n      config.persist()\n      setReloadOnClose(true)\n    }\n  };\n\n  const handleUpdateBucketName = (evt)=> {\n   if (config.bucketName != evt.target.value) {\n      config.bucketName = evt.target.value;\n      config.persist()\n      setReloadOnClose(true)\n    }\n  };\n  const handleUpdateLocationCsv = (evt)=> {\n   if (config.locationCsv != evt.target.value) {\n      config.locationCsv = evt.target.value;\n      config.persist()\n      setReloadOnClose(true)\n    }\n  };\n    const handleUpdateLocationImport = (evt)=> {\n   if (config.locationImport != evt.target.value) {\n      config.locationImport = evt.target.value;\n      config.persist()\n      setReloadOnClose(true)\n    }\n  };\n\n\n  // always turns into table layout for what you want. ;) <font size=+2><blink>old tricks are best</bink></font>\n  return (\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n    \n    <table><tr>\n        <td width=\"100%\"><center><Typography variant=\"h6\">UI Configuration</Typography>  </center>   </td>\n      <td> <IconButton aria-label=\"close\" onClick={props.onClose}>\n          <CloseIcon />\n        </IconButton>   </td>\n      </tr></table>\n\n    <List>\n     <Divider />\n        <ListItem>\n          <form className={classes.root} noValidate autoComplete=\"off\">\n            <TextField id=\"bucketName\" label=\"Bucket Name\" onChange={handleUpdateBucketName} defaultValue={config.bucketName}/>\n          </form>\n        </ListItem> \n        <ListItem>\n          <form className={classes.root} noValidate autoComplete=\"off\">\n            <TextField id=\"projectId\" label=\"Project ID\"  onChange={handleUpdateProjectId} defaultValue={config.projectId}/>\n          </form>\n        </ListItem> \n        \n        <ListItem>\n          <form className={classes.root} noValidate autoComplete=\"off\">\n            <TextField id=\"thumbnailWidth\" label=\"Thumbnail Width (Pixels)\"  onChange={handleUpdateThumbnailWidth} defaultValue={config.thumbnailWidth}/>\n          </form>\n        </ListItem>     \n        <ListItem>\n          <Typography variant=\"strong\">\n            Csv Location\n          </Typography>\n          <pre>{config.bucketName}</pre>\n          </ListItem>     \n        <ListItem>\n          <form className={classes.root} noValidate autoComplete=\"off\">\n            GS:// <TextField id=\"locationCsv\" label=\"CSV Location\"  onChange={handleUpdateLocationCsv} defaultValue={config.locationCsv}/>\n          </form>\n          </ListItem>     \n                  <ListItem>\n          <Typography variant=\"strong\">\n            Import Labels\n          </Typography>\n          <pre>{config.bucketName}</pre>\n          </ListItem>   \n        <ListItem>\n          <form className={classes.root} noValidate autoComplete=\"off\">\n            GS:// <TextField id=\"locationImport\" label=\"Label Import Location\"  onChange={handleUpdateLocationImport} defaultValue={config.locationImport}/>\n          </form>\n          </ListItem>      \n      </List>\n    </Dialog>\n  );\n}","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport * as React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Box from '@material-ui/core/Box';\nimport Modal from '@material-ui/core/Modal';\nimport Fade from '@material-ui/core/Fade';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport HelpIcon from '@material-ui/icons/Help';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  background: '#e3eef4',\n  borderRadius:'5px',\n  boxShadow: 24,\n  cursor:'Pointer',\n  p: 4,\n};\n\nexport default function HelpModal() {\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <Button onClick={handleOpen}><HelpIcon/></Button>\n\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <Box style={style}>\n            <div style={{padding:\"15px\"}}>\n          <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\n          </Typography>\n            \n            <Typography id=\"transition-modal-description\" >\n            <h2>Copyright 2022 Google Inc.</h2>\n            <Typography>\n              <p>Licensed under the Apache License, Version 2.0 (the \"License\");\n              you may not use this application except in compliance with the License.\n              You may obtain a copy of the License at</p>\n                        <p>http://www.apache.org/licenses/LICENSE-2.0</p>\n              <p>Unless required by applicable law or agreed to in writing, software\n              distributed under the License is distributed on an \"AS IS\" BASIS,\n              WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n              See the License for the specific language governing permissions and\n              limitations under the License.</p>\n            </Typography>\n              <h2>Source Code</h2>\n               <Tooltip title=\"View documentation and source code on Github\">\n                <Button onClick={()=>{window.open(\"https://github.com/byronwhitlock-google/AutoML-Labeling-Tool\")}}>            \n                  <GitHubIcon color=\"inherit\"/>&nbsp;&nbsp;Github          \n                </Button>\n              </Tooltip>   \n             </Typography>\n            </div>\n          </Box>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nimport SettingsDialog from './SettingsDialog.js'\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Logo from './assets/MckessonLogo.png'\n\n// refresh token\nimport { refreshTokenSetup } from './lib/refreshToken';\n\n//Help Modal\nimport HelpModal from './HelpModal.js'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function AppHeader(props) {\n  const classes = useStyles();\n  \n  const [settingsOpen, setSettingsOpen] = useState(0);\n  const [helpOpen,setHelpOpen] = useState(false);\n\n\n  const openHelpModal=()=>{\n    setHelpOpen(true)\n  }\n  \n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n          { \n          /* \n          Google does not do \"work for hire\"\n          <img style={{paddingLeft:\"10px\"}} src={Logo}></img>  */ \n          }\n\n          <h3>Vertex AI Image Classification Labeling Tool</h3>\n          \n          </Typography>\n          \n          \n\n            <React.Fragment>\n              \n              <Tooltip title={`Configure Your Settings`}>\n                <Button color=\"inherit\" onClick={()=>{setSettingsOpen(1)}}>\n                  User Settings\n                  <SettingsIcon/>\n                </Button>\n              </Tooltip>\n              <SettingsDialog onClose={()=>{setSettingsOpen(0)}} open={settingsOpen}  {...props}/>          \n            </React.Fragment>\n            <Tooltip title=\"Need Help ?\">\n            <Button onClick={openHelpModal}> \n               <HelpModal/>                    \n            </Button>\n          </Tooltip>                     \n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\n","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    outline: 'none !important' // this doesn't remove the blue outline\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function ModalPopup(props) {\n  const classes = useStyles();\n  var content = {__html: props.content}\n  return (\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        {...props}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={props.open}>\n          <Alert severity={props.severity||\"error\"}>\n            <AlertTitle>\n              <span id=\"transition-modal-title\">{props.title}</span>\n            </AlertTitle>\n            <span id=\"transition-modal-description\"> \n              <div dangerouslySetInnerHTML={content}/>\n            </span>\n          </Alert>\n        </Fade>\n      </Modal>\n  );\n}\n","  /*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\nimport UserConfig from '../lib/UserConfig.js'\n\nclass BaseApi {\n  constructor(accessToken){\n    this.accessToken = accessToken \n    \n    var config = new UserConfig(); \n    this.bucketName = config.bucketName \n    this.projectId = config.projectId \n    this.locationId = config.locationId     \n  }\n  getHeaders() {\n    return { \n        'X-Bearer-Token': this.accessToken,\n        'X-Project-Id': this.projectId,\n        'X-Bucket-Name': this.bucketName,\n        'X-Location-Id': this.locationId\n      }\n\n  }\n  async fetch (url) {    \n    console.log(\"in BaseApi.get()\")\n\n    const options = {\n      method: \"GET\",\n      headers: this.getHeaders()\n    }\n\n    console.log(options)\n    const response = await fetch(url, options);\n    return this.handleResponse(response);  \n  }\n\n  async post (url,data) {\n    const response = await fetch(url, {\n          method: \"POST\",\n          headers: { \n            'Content-Type': 'application/json' ,\n            'X-Bearer-Token': this.accessToken,\n            'X-Project-Id': this.projectId,\n            'X-Bucket-Name': this.bucketName,\n            'X-Location-Id': this.locationId\n          },\n          body: JSON.stringify(data)\n        });\n    return this.handleResponse(response);  \n  }\n\n  async handleResponse (response)\n  {\n    var res = \"\"\n    try {\n      res = await response.json();\n    } catch (err){\n      throw new Error(`Invalid JSON response from server. <Br>${response.status} ${response.statusText}`)\n    }    \n\n    if (response.status !== 200) \n      throw Error(res.message)     \n    else if (res.hasOwnProperty('error'))\n      throw new Error(res.error)\n    else if (res.hasOwnProperty('data'))\n      return res.data;\n    else\n      throw new Error(\"Unknown Error : \"+JSON.stringify(res));\n  }\n}\nexport default BaseApi","import BaseApi from './BaseApi.js';\nimport Axios from \"axios\";\n\nclass LabelsApi extends BaseApi {\n    constructor(accessToken) {\n        super(accessToken);\n        //this.loadConfig()        \n    }\n\n    async getLabels() {\n        try {\n            console.log(\"Geting Labels\");\n            var res = await this.fetch(\"/get_labels\");\n            console.log(res);\n            return res\n        } catch (err) {\n            if (err.message == \"Not Found\")\n                throw new Error(`Bucket Not Found: ${this.config.bucketName}. ${err.message}`);\n\n            else\n                throw err;\n        }\n    }\n    async setLabel(labelName, documentName) {\n        try {\n            let toPost = {labelName:labelName, filename:documentName}\n            console.log(toPost)\n            console.log(`Saving  label ${labelName} on document ${documentName}`);\n            var res = await this.post(\"/set_label\", toPost);\n            console.log(res);\n            return res\n        } catch (err) {\n            if (err.message == \"Not Found\")\n                throw new Error(`Bucket Not Found: ${this.config.bucketName}. ${err.message}`);\n\n            else\n                throw err;\n        }\n    }\n    async addLabel(labelName) {\n        try {\n            let toPost = {labelName:labelName}\n            console.log(toPost)\n            console.log(`Adding label ${labelName}`);\n            var res = await this.post(\"/add_label\", toPost);\n            console.log(res);\n            return res\n        } catch (err) {\n            if (err.message == \"Not Found\")\n                throw new Error(`Bucket Not Found: ${this.config.bucketName}. ${err.message}`);\n\n            else\n                throw err;\n        }\n    }\n    async removeLabel(labelName) {\n        try {\n            let toPost = {labelName:labelName}\n            console.log(toPost)\n            console.log(`Removing  label ${labelName} `);\n            var res = await this.post(\"/remove_label\", toPost);\n            console.log(res);\n            return res\n        } catch (err) {\n            if (err.message == \"Not Found\")\n                throw new Error(`Bucket Not Found: ${this.config.bucketName}. ${err.message}`);\n\n            else\n                throw err;\n        }\n    }\n\n        // this one is alittle different, we want to get progress from the backend so we do something special.\n        async importLabels(labelPath,progressCallback)  {\n        var url = `/import_labels?labelPath=${labelPath}`\n        return Axios({\n            url: url,\n            method: 'GET',\n            headers: this.getHeaders(),\n            onDownloadProgress: progressEvent => {\n            const dataChunk = progressEvent.currentTarget.response;\n                // dataChunk contains the data that have been obtained so far (the whole data so far).. \n                \n                //console.log(dataChunk)\n                \n                // grab last row of progress.\n                var dataChunks = dataChunk.trim(\"\\n\").split(\"\\n\")\n                //console.log(dataChunks)\n                if (dataChunks) {\n                    var currentChunk = dataChunks[dataChunks.length-1]\n                    progressCallback( currentChunk )\n                    console.log(currentChunk)\n                }\n                \n            }\n\n\n        })\n\n    }\n}\n\nexport default LabelsApi","  /*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport BaseApi from './BaseApi.js'\n\nclass DocumentListApi extends BaseApi {\n  constructor(accessToken){\n    super(accessToken)\n  }\n \n  async loadDocumentList () {\n    try {\n      return this.fetch(\"/list_documents\")\n\n    } catch (err) {\n      if (err.message == \"Not Found\")\n        throw new Error(`Bucket Not Found: ${this.config.bucketName}. ${err.message}`)\n      else\n        throw err\n    }\n  }\n}\nexport default DocumentListApi","  /*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport BaseApi from './BaseApi.js'\n\nclass GenerateCsvApi extends BaseApi {\n  constructor(accessToken){\n    super(accessToken)\n  }\n\n  async generateCsv() {\n    try {\n      return this.fetch(\"/generate_csv\")\n    } catch (err) {\n      if (err.message == \"Not Found\")\n        throw new Error(`Bucket Not Found: ${this.config.bucketName}. ${err.message}`)\n      else\n        throw err\n    }\n  }\n}\nexport default GenerateCsvApi","\n/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport React, { Component } from 'react';\nimport Button from \"@material-ui/core/Button\";\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport LabelIcon from '@material-ui/icons/Label';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport EditIcon from '@material-ui/icons/Edit';\nimport UserConfig from './lib/UserConfig.js'\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckIcon from '@material-ui/icons/Check';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport { Divider, Grid, Typography,Box } from '@material-ui/core';\n\nclass EditLabels extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.config = new UserConfig()\n\n        this.handleClickOpen = this.handleClickOpen.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n        this.updateLabelState = this.updateLabelState.bind(this)\n        this.addLabel = this.addLabel.bind(this)\n        this.removeLabel = this.removeLabel.bind(this)\n    }\n\n\n    state = {\n        open:false,\n        newLabel:''\n    }\n \n    handleClickOpen() {\n        this.setState({open:true});\n    }\n\n    handleClose(){\n        this.setState({open:false});\n    }\n\n    updateLabelState (e){\n        this.setState({newLabel:e.target.value})\n    }\n\n    addLabel (){\n        this.setState({newLabel:\"\"})\n        this.props.onLabelAdded(this.state.newLabel)\n    }\n\n    removeLabel (labelName){\n        this.props.onLabelRemoved(labelName)\n    }\n    render() {\n        return (\n            <div>\n\n\n            \n            <Tooltip title=\"Add or remove labels.\">     \n            <ListItem onClick={this.handleClickOpen} button key=\"edit-labels\">            \n            <ListItemText primary=\"Edit Labels\" secondary=\"Add or remove labels\"/>     \n             <EditIcon/>       \n            </ListItem>\n            </Tooltip>   \n        \n        \n            <Dialog open={this.state.open} onClose={this.handleClose}>\n                <DialogTitle>Edit Labels</DialogTitle>\n                <DialogContent>\n                <DialogContentText>\n                    Predefined labels. Labels below are merged in context menu  with predictions and existing document labels.\n                    <small ><pre>gs://{this.config.bucketName}/config.json</pre> </small>\n                </DialogContentText>\n                \n\n\n                    <ListItem  secondary=\"Add new Label\">\n                            <ListItemAvatar>\n                                New Label: \n                            </ListItemAvatar>\n                                <TextField value={this.state.newLabel} onChange={this.updateLabelState}/>\n                                <IconButton edge=\"end\" aria-label=\"save\">\n                                    <CheckIcon onClick={this.addLabel} />\n                                </IconButton>\n                        </ListItem>\n\n\n\n                    <List dense={true}>\n        \n\n                    {Object.keys(this.props.labels).map((labelName) =>  \n                            labelName == 'None' ?'': \n                                <ListItem key={labelName}>\n                                    <ListItemAvatar>\n                                        <LabelIcon />\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={labelName} secondary={`${this.props.labels[labelName]} documents`}\n                                    />\n                                    <IconButton edge=\"end\" aria-label=\"delete\">\n                                    <DeleteIcon onClick={()=>{this.removeLabel(labelName)}}/>\n                                    </IconButton>\n                                </ListItem>\n                    )}\n                    </List>\n\n\n                </DialogContent>\n                <DialogActions>\n        \n                            <Button onClick={this.handleClose}>Close</Button>\n                </DialogActions>\n            </Dialog>\n            </div>\n        )\n    }\n}\nexport default EditLabels","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport React, { Component } from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport List from '@material-ui/core/List';\nimport { FixedSizeList ,VariableSizeList} from 'react-window';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListIcon from '@material-ui/icons/List';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport DescriptionTwoToneIcon from '@material-ui/icons/DescriptionTwoTone';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport UserConfig from './lib/UserConfig.js'\nimport FileSaver  from 'file-saver';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Blob from 'blob'\nimport ErrorTwoToneIcon from '@material-ui/icons/ErrorTwoTone';\nimport CheckCircleTwoToneIcon from '@material-ui/icons/CheckCircleTwoTone';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Button from '@material-ui/core/Button';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport GTranslateIcon from '@material-ui/icons/GTranslate';\nimport AutoMLIcon from './svg/AutoMLIcon.js';\nimport CloudStorageIcon from './svg/CloudStorageIcon.js';\n\nclass GenerateCsvButton extends Component {\n  constructor(props) {\n      super(props);\n\n    this.handleGenerateCsvClick = this.handleGenerateCsvClick.bind(this)\n    console.log(\"NavigationDrawer props\")\n    console.log(props)\n    \n  }\n\n  classes = makeStyles({\n              list: {\n                width: 250,\n              },\n              fullList: {\n                width: 'auto',\n              },\n            });\n  state = {\n      data: null,\n      isOpen: false\n  };\n\n\n  async handleGenerateCsvClick() {\n    try {\n      var csvMap = await this.props.generateCsv()\n      var gif = process.env.PUBLIC_URL +'/training-animation.gif'\n      var documentLabels=\"\"\n      var wordLabels=\"\"\n      \n      documentLabels = `<font size='+1'><b>gs://${csvMap[0].path}</b></font><br><i>${csvMap[0].numRecords}</i> Documents labeled.<br>`\n      for(let i in csvMap) {\n        let csv = csvMap[i]\n        if (i>0) //HACKYHACKHACK should be idiomatic not magic string\n          wordLabels += `<font size='+1'>${csv.label}</font><br>gs://${csv.path}<br><i>${csv.numRecords}</i> Documents labeled. <p>`\n      }\n\n      if (wordLabels) {\n        documentLabels+= `<h3>Word Labels</h3><blockquote>${wordLabels}</blockquote> `\n      }\n\n      this.props.setAlert(\n        ` <img style='float:right' width='50%' src='${gif}'>\n        <hr>\n       ${documentLabels}\n       \n       <hr>\n        Please go to <a target=\"_new\" href='https://console.cloud.google.com/vertex-ai/datasets/create'>Vertex AI Cloud Console</a>. Choose 'Image Classification' then, import dataset.`,\n        \"CSV Generation Success\")\n    } catch (e)\n    {\n      this.props.setError(e.message,\"CSV Generation Failed\")\n    }\n    /*\n    try {\n      // grab the csv, stub for now.\n      var csv = await this.props.loadCsv()\n      var blob = new Blob([csv.data], {type: \"text/plain;charset=utf-8\"});\n      FileSaver.saveAs(blob, `automl-labeled-${config.bucketName}.csv`);\n    } \n    catch (e)\n    {\n      this.props.setError(e.message,\"Download Failed\")\n    }*/\n  }\n\n  handleDocumentClick =  (newDocumentSrc) => {\n    // do a full refresh for new docuemnt keep things snappy?\n    //window.location = '/'+newDocumentSrc\n    this.props.handleDocumentUpdate(newDocumentSrc)\n  }\n  componentDidMount =()=>{\n    this.setState({windowHeight: window.innerHeight -325}) ;\n  }\n\n  toggleDrawer = (open) => (event) => {\n    \n    if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    // don't await this call\n    // poor mans async\n    //setTimeout(function() {\n     \n    //},0);\n    \n    this.setState({ ...this.state, isOpen: !this.state.isOpen });\n    //setTimeout(function() {\n    // this.props.refreshDocumentList()\n    //},100);\n  };\n\n  render() {\n\n\n    return (\n      \n      <React.Fragment>\n        <Tooltip title=\"Generate a CSV file for training a new new model in the AutoML API.\">     \n          <ListItem onClick={this.handleGenerateCsvClick} button key=\"generate-csv\">            \n          <ListItemText primary=\"Generate CSV\" secondary=\"AutoML training\"/>       \n          <GTranslateIcon/>            \n          </ListItem>\n        </Tooltip>   \n      </React.Fragment>\n    );\n  }\n}\n\nexport default GenerateCsvButton;","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport React, { Component } from 'react';\nimport  './styles/styles_sidebar.css'\nimport { Divider, Typography } from '@material-ui/core';\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport LabelIcon from '@material-ui/icons/Label';\nimport LabelOffIcon from '@material-ui/icons/LabelOff';\nimport EditIcon from '@material-ui/icons/Edit';\n\nimport EditLabels from './EditLabels.js'\n// Props should look like this\n\nimport GenerateCsvButton from './GenerateCsvButton.js'\n\n\n// import SearchBar from \"material-ui-search-bar\";\n\n\n\n\n\n\n\nclass Sidebar extends Component {\n\n    constructor(props, context) {\n        super(props,context);\n        // This binding is necessary to make `this` work in the callback\n        this.handleLabelClick = this.handleLabelClick.bind(this);\n         this.props.onLabelSelected(props.selectedLabel);\n\n\n    }\n\n\n   \n\n    handleLabelClick(labelName) {\n        this.props.onLabelSelected(labelName)\n\n        \n    }\n\n\n    async componentDidMount(){\n        this.props.onLabelSelected(this.props.selectedLabel)\n    }\n       \n    \n\n   \n\n    render (){\n\n        return(        \n            <List color=\"primary\">    \n                <ListItem \n                        onClick={(e) => {this.handleLabelClick('None')}} button \n                        selected={this.props.selectedLabel=='None'?true:false} >     \n                    <LabelOffIcon color=\"secondary\"/>&nbsp;&nbsp;&nbsp;\n                    <ListItemText secondary={`${this.props.labels['None']?this.props.labels['None']:0} Unlabeled Docs`} primary={`None`}/>\n                </ListItem> \n                   {/*Filter the labels on the basis of Filter Text */}\n                {this.props.filter ? this.props.labelsFiltered.map((labelName) =>  \n                    labelName == 'None' ?'': \n                    this.props.labels[labelName]!==0 ? (\n               <ListItem \n                        key={labelName}\n                        onClick={(e) => {this.handleLabelClick(labelName)}} button \n                        selected={this.props.selectedLabel==labelName?true:false}>      \n                        <LabelIcon color=\"primary\"/>&nbsp;&nbsp;&nbsp;      \n                        <ListItemText primary={labelName} secondary={`${this.props.labels[labelName]} documents`}/>\n                    </ListItem>):''\n                ): Object.keys(this.props.labels).map((labelName) =>  \n                    labelName == 'None' ?'': \n                    this.props.labels[labelName]!==0 ? (\n               <ListItem \n                        key={labelName}\n                        onClick={(e) => {this.handleLabelClick(labelName)}} button \n                        selected={this.props.selectedLabel==labelName?true:false}>      \n                        <LabelIcon color=\"primary\"/>&nbsp;&nbsp;&nbsp;      \n                        <ListItemText primary={labelName} secondary={`${this.props.labels[labelName]} documents`}/>\n                    </ListItem>):''\n                )}\n                \n                <Divider/> \n                \n                <EditLabels {...this.props}/>                 \n                \n                          \n                 {/* <GenerateCsvButton {...this.props}/>                  */}\n                \n                <Divider/>    \n\n\n            </List>\n        )\n    }\n}\nexport default Sidebar;","\n/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport React, { Component } from 'react';\nimport UserConfig from \"./lib/UserConfig.js\"\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\n\n\nimport {    Menu,\n            MenuItem,\n            Grid, \n            Typography } from '@material-ui/core';\n\nclass RightClickMenu extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.documentNode = React.createRef();\n        this.config = new UserConfig()\n\n        this.handleMouseOver = this.handleMouseOver.bind(this)\n        this.handleRightClick = this.handleRightClick.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n        this.handleMenuClick = this.handleMenuClick.bind(this)\n        //this.handleUnselectItem = this.handleUnselectItem.bind(this)\n    }\n\n    state = {\n      mouseX: null,\n      mouseY: null,\n      leftMouseClicked:false,\n      selectedDocuments:[],\n    };\n\n\n\n    selectText(node){\n      if (document.body.createTextRange) {\n          const range = document.body.createTextRange();\n          range.moveToElementText(node);\n          range.select();\n      } else if (window.getSelection) {\n          const selection = window.getSelection();\n          const range = document.createRange();\n          range.selectNodeContents(node);\n          selection.removeAllRanges();\n          selection.addRange(range);\n      } else {\n          console.warn(\"Could not select text in node: Unsupported browser.\");\n      }\n    }\n   \n\n\n    // we pass the parent node because e is the inner spans\n    handleMouseOver(event, documentNode) {\n      event.preventDefault();\n      if(this.props.multiSelected){\n        return;\n      }\n      //if multislect state true then return true\n\n    //else\n      this.selectText(documentNode.current)\n    }\n\n    handleContextMenu(event, documentNode ) {\n      event.preventDefault();   \n      \n\n\n      if (this.props.multiSelected) {     \n        /// ??????           \n        this.setState({\n          mouseX: event.clientX - 2,\n          mouseY: event.clientY - 4,\n        });\n      } else {\n         \n        this.selectText(documentNode.current)\n        this.setState({\n          mouseX: event.clientX - 2,\n          mouseY: event.clientY - 4,\n        });\n      }\n    }\n      // we pass the parent node because e is the inner spans\n    handleRightClick(event, documentNode){\n\n    }\n\n\n   \n\n\n    async handleMenuClick(e, labelName,documentName){\n      e.preventDefault();\n      this.handleClose()\n      // make the call async because yeah.\n      if(this.props.multiSelected){ \n        //setTimeout(()=>{this.props.onApplyLabelToMulitpleDocuments(labelName)},0) // when multiple documents are selected\n        this.props.onApplyLabelToMultipleDocuments(this.props.selectedKeys, labelName)\n        this.props.onNonItemClick()\n      }\n      else {\n        //setTimeout(()=>{this.props.onApplyLabelToDocument(labelName,documentName)},0) // when single document is selected\n        this.props.onApplyLabelToDocument(labelName,documentName)\n      }\n    }\n\n    handleClose(){\n      this.setState( {\n        mouseX: null,\n        mouseY: null,\n      })\n    }\n    render(){\n      \n        return (\n          \n          \n        <span\n          ref={this.documentNode} \n          style={{ cursor: 'context-menu' }} \n          onMouseOver={(e)=>{this.handleMouseOver(e, this.documentNode)}}\n          onContextMenu={ (e)=>{this.handleContextMenu(e, this.documentNode)}}\n          // onClick={this.handleUnselectItem}\n        >\n           {this.props.children}\n           {\n              <Menu\n                key={this.documentNode}\n                keepMounted\n                open={this.state.mouseY !== null}\n                onClose={this.handleClose}\n                anchorReference=\"anchorPosition\"\n                anchorPosition={\n                  this.state.mouseY !== null && this.state.mouseX !== null\n                    ? { top: this.state.mouseY, left: this.state.mouseX }\n                    : undefined\n                }\n              >         \n                <MenuItem color='secondary' key=\"none\" onClick={(e)=>this.handleMenuClick(e,'None',this.props.documentName)}>             \n                  None (Remove Label)\n                </MenuItem>\n\n                {Object.keys(this.props.labels).map((labelName) => labelName==\"None\"?'':\n                    <MenuItem \n                      key={labelName} \n                      onClick={(e)=>this.handleMenuClick(e,labelName, this.props.documentName)}>                       \n                      {labelName}\n                    </MenuItem>                \n                  )}            \n\n              </Menu>\n          }\n        </span>\n        )\n/*\n        return ( <Highlighter\n                   // highlightClassName=\"YourHighlightClass\"\n                    searchWords={words}\n                    autoEscape={true}\n                    textToHighlight={sentence}\n                    activeStyle={{\n                      backgroundColor: 'gray', \n                      display: 'inline'\n                    }}\n        />)*/\n    }\n} \nexport default RightClickMenu","import * as React from 'react';\nimport { styled } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\n\n const Item = styled(Paper)(({ theme }) => ({\n  ...theme.typography.body2,\n  padding: theme.spacing(0),\n  textAlign: 'center',\n  color: theme.palette.text.secondary,\n  margin:4\n}));\n\n\n\nexport default Item;","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport * as React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Box from '@material-ui/core/Box';\nimport Modal from '@material-ui/core/Modal';\nimport Fade from '@material-ui/core/Fade';\nimport Button from '@material-ui/core/Button';\nimport Loader from './Loader.js';\nimport Image from 'material-ui-image';\nimport { useState } from \"react\";\n\nimport RotateLeftIcon from \"@material-ui/icons/RotateLeft\";\nimport RotateRightIcon from \"@material-ui/icons/RotateRight\";\n\nconst style = {\n  position: 'absolute',\n  transform: 'translate(135%, -1%)',\n  width: 400,\n  height:1,\n  bgcolor: 'background.paper',\n  boxShadow: 24,\n  p: 4,\n};\n\nconst rotateStyleLeft = {\n  fontSize: \"40px\",\n  cursor: \"pointer\",\n  position: \"relative\",\n  zIndex: 1,\n  left: \"-6vh\",\n  top: \"-50vh\",\n};\n\nconst rotateStyleRight = {\n  fontSize: \"40px\",\n  cursor: \"pointer\",\n  position: \"relative\",\n  zIndex: 1,\n  left: \"99vh\",\n  top: \"-50vh\",\n};\n\n\nexport default function DocumentDetailedView(props) {\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  \n  const [direction, setDirection] = useState(0);\n\n  const rotateLeft = () => {\n    setDirection(direction - 90);\n  };\n\n  const rotateRight = () => {\n    setDirection(direction + 90);\n  };\n\n   \n  \n   const [count,setCount]=React.useState(0);\n   const [show,setShow]=React.useState(true)\n   \n\n\n    \n\n \n  var modelImage=`/image?filename=${props.filename}&b=${props.bucketName}`\n\n  return (\n      <React.Fragment>\n      \n      <Image onClick={handleOpen} style={{width:`${props.width}px`}} src={modelImage}></Image>\n      \n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <Box style={style}>\n          \n          \n            <Image  \n              src={show ? modelImage : ''}\n              style={{height:\"25vh\",marginTop:\"24px\" ,width:\"100vh\",transform: `rotate(${direction}deg)`}} ></Image>\n              \n              <RotateLeftIcon\n              style={rotateStyleLeft}\n              onClick={rotateLeft}\n            ></RotateLeftIcon>\n            <RotateRightIcon\n              style={rotateStyleRight}\n              onClick={rotateRight}\n            ></RotateRightIcon>\n          </Box>\n        </Fade>\n      </Modal>\n      </React.Fragment>\n    \n  );\n}\n\n\n\n\n","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport React, { Component } from \"react\";\nimport UserConfig from \"./lib/UserConfig.js\";\nimport RightClickMenu from \"./RightClickMenu.js\";\nimport Item from \"./Item.js\";\nimport Button from \"@material-ui/core/Button\";\nimport DocumentDetailedView from \"./DocumentDetailedView.js\";\nimport { VariableSizeList as List } from \"react-window\";\nimport { VariableSizeGrid } from \"react-window\";\nimport { FixedSizeGrid } from \"react-window\";\nimport { SelectableGroup, createSelectable } from \"react-selectable\";\n\nimport {\n  Box,\n  Divider,\n  Grid,\n  CardContent,\n  CardActions,\n  ListItem,\n} from \"@material-ui/core\";\n\nconst RightClickMenuSelectable = createSelectable(RightClickMenu); // To make the component multi-selectable\n\nclass DocumentView extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.config = new UserConfig();\n    this.state = {\n      windowWidth: window.innerWidth - 0.3 * window.innerWidth,\n      windowHeight: window.innerHeight,\n      selectedKeys: [],\n      multiSelected: false,\n    };\n    //this.gridRef=React.createRef();\n\n    this.handleResize = this.handleResize.bind(this);\n    this.handleSelection = this.handleSelection.bind(this);\n    this.handleNonItemClick = this.handleNonItemClick.bind(this);\n    this.handleUnselectClick = this.handleUnselectClick.bind(this);\n  }\n\n  handleSelection(selectedKeys) {\n    this.setState({ selectedKeys });\n    if (selectedKeys.length > 0) {\n      this.setState({ multiSelected: true });\n    } else {\n      this.setState({ multiSelected: false });\n    }\n    console.log(selectedKeys);\n  }\n\n  handleUnselectClick(e,idx) {  //unselect image functionality\n    \n   \n\n    if (e.ctrlKey) {\n      // check for ctrl+click\n      if (\n        this.state.selectedKeys.indexOf(idx\n          \n        ) > -1\n      ) {\n        const selected = this.state.selectedKeys.filter(\n          (item) =>\n            item !== idx\n        );\n        this.setState({ selectedKeys: selected });\n      }\n    }\n  }\n // e.currentTarget[unselectedItemKey[1]].children._owner.index\n\n  handleNonItemClick() {\n    this.setState({ selectedKeys: [], multiSelected: false }); // to empty the array of the selected items when clicked on non-selectable item\n  }\n\n  handleResize = (e) => {\n    this.setState({\n      windowWidth: window.innerWidth - 0.3 * window.innerWidth,\n      windowHeight: window.innerHeight,\n    });\n  };\n\n  componentDidMount() {\n    this.handleResize();\n    window.addEventListener(\"resize\", this.handleResize);\n  }\n\n  componentWillUnmount() {\n    window.addEventListener(\"resize\", this.handleResize);\n  }\n\n  render() {\n    const { windowWidth, windowHeight } = this.state;\n\n    const rowCount = Math.ceil(\n      this.props.documentListFiltered.length /\n        Math.floor(\n          (window.innerWidth - 0.4 * window.innerWidth) /\n            this.config.thumbnailWidth\n        )\n    );\n    const columnCount = Math.floor(windowWidth / this.config.thumbnailWidth);\n\n    return (\n      <Grid container>\n        <SelectableGroup\n          onSelection={this.handleSelection}\n          enabled={true}\n          onEndSelection={this.handleEndSelection}\n          onBeginSelection={this.handleBeginSelection}\n          onNonItemClick={this.handleNonItemClick}\n        >\n          <FixedSizeGrid\n            className=\"Grid\"\n            columnCount={columnCount}\n            columnWidth={parseInt(this.config.thumbnailWidth) * 1.1}\n            height={windowHeight}\n            rowCount={rowCount}\n            rowHeight={parseInt(this.config.thumbnailWidth) * 1.5}\n            width={window.innerWidth - 0.1 * window.innerWidth}\n          >\n            {({ columnIndex, rowIndex, style }) => {\n              // TODO: Change \"3\" into a dynamic mesurment: floor(screen width / image pixel size)\n              // const rowCount = Math.ceil(this.props.documentListFiltered.length / 3);\n              // const columnCount = 3;\n\n              //const isLastRow = rowIndex === this.state.rowCount - 1;\n              const idx = rowIndex * columnCount + columnIndex;\n              var document = this.props.documentListFiltered[idx];\n              const isSelected = this.state.selectedKeys.indexOf(idx) > -1; // to change the background of the selected documents\n              console.log(idx, \"document\");\n              //\n\n              if (!document) {\n                return <React.Fragment />;\n              }\n\n              return (\n                <div style={style}>\n                  {this.props.documentListFiltered.length > 0 ? (\n                    <RightClickMenuSelectable\n                      {...this.props}\n                      key={idx}\n                      isSelected={isSelected}\n                      selectableKey={idx}\n                      documentName={document.filename}\n                      key={document.filename}\n                      multiSelected={this.state.multiSelected}\n                      onNonItemClick={this.handleNonItemClick}\n                      selectedKeys={this.state.selectedKeys}\n                    >\n                      <React.Fragment>\n                        <Item>\n                          <CardContent\n                            onContextMenu={(e) => {\n                              this.handleUnselectClick(e,idx);\n                            }}\n                            style={{ background: isSelected ? \"#B7DBF2\" : \"\" }}\n                          >\n                            <DocumentDetailedView\n                              filename={document.filename}\n                              bucketName={this.config.bucketName}\n                              width={this.config.thumbnailWidth}\n                            />\n                          </CardContent>\n                          <CardActions>\n                            <small>{document.filename}</small>\n                          </CardActions>\n                        </Item>\n                      </React.Fragment>\n                    </RightClickMenuSelectable>\n                  ) : (\n                    \"\"\n                  )}\n                </div>\n              );\n            }}\n          </FixedSizeGrid>\n        </SelectableGroup>\n        <Divider />\n      </Grid>\n    );\n  }\n}\n// TODO: dont' use localhost for image location, may need shim\nexport default DocumentView;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\n\n \n\n\n\nexport function TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n       hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box sx={{ p: 3 }}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n};\n","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\n\nimport React, { Component } from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport List from '@material-ui/core/List';\nimport { FixedSizeList ,VariableSizeList} from 'react-window';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListIcon from '@material-ui/icons/List';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport DescriptionTwoToneIcon from '@material-ui/icons/DescriptionTwoTone';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport UserConfig from './lib/UserConfig.js'\nimport FileSaver  from 'file-saver';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Blob from 'blob'\nimport ErrorTwoToneIcon from '@material-ui/icons/ErrorTwoTone';\nimport CheckCircleTwoToneIcon from '@material-ui/icons/CheckCircleTwoTone';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Button from '@material-ui/core/Button';\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport GTranslateIcon from '@material-ui/icons/GTranslate';\nimport AutoMLIcon from './svg/AutoMLIcon.js';\nimport CloudStorageIcon from './svg/CloudStorageIcon.js';\nimport Item from \"./Item.js\";\nimport { CardContent } from \"@material-ui/core\";\n\n\nclass GenerateCsvButton extends Component {\n  constructor(props) {\n      super(props);\n\n    this.handleGenerateCsvClick = this.handleGenerateCsvClick.bind(this)\n    console.log(\"NavigationDrawer props\")\n    console.log(props)\n    \n  }\n\n  classes = makeStyles({\n              list: {\n                width: 250,\n              },\n              fullList: {\n                width: 'auto',\n              },\n            });\n  state = {\n      data: null,\n      isOpen: false\n  };\n\n\n  async handleGenerateCsvClick() {\n    try {\n      var csvMap = await this.props.generateCsv()\n      var gif = process.env.PUBLIC_URL +'/training-animation.gif'\n      var documentLabels=\"\"\n      var wordLabels=\"\"\n      \n      documentLabels = `<font size='+1'><b>gs://${csvMap[0].path}</b></font><br><i>${csvMap[0].numRecords}</i> Documents labeled.<br>`\n      for(let i in csvMap) {\n        let csv = csvMap[i]\n        if (i>0) //HACKYHACKHACK should be idiomatic not magic string\n          wordLabels += `<font size='+1'>${csv.label}</font><br>gs://${csv.path}<br><i>${csv.numRecords}</i> Documents labeled. <p>`\n      }\n\n      if (wordLabels) {\n        documentLabels+= `<h3>Word Labels</h3><blockquote>${wordLabels}</blockquote> `\n      }\n\n      this.props.setAlert(\n        ` <img style='float:right' width='50%' src='${gif}'>\n        <hr>\n       ${documentLabels}\n       \n       <hr>\n        Please go to <a target=\"_new\" href='https://console.cloud.google.com/vertex-ai/datasets/create'>Vertex AI Cloud Console</a>. Choose 'Image Classification' then, import dataset.`,\n        \"CSV Generation Success\")\n    } catch (e)\n    {\n      this.props.setError(e.message,\"CSV Generation Failed\")\n    }\n    /*\n    try {\n      // grab the csv, stub for now.\n      var csv = await this.props.loadCsv()\n      var blob = new Blob([csv.data], {type: \"text/plain;charset=utf-8\"});\n      FileSaver.saveAs(blob, `automl-labeled-${config.bucketName}.csv`);\n    } \n    catch (e)\n    {\n      this.props.setError(e.message,\"Download Failed\")\n    }*/\n  }\n\n  handleDocumentClick =  (newDocumentSrc) => {\n    // do a full refresh for new docuemnt keep things snappy?\n    //window.location = '/'+newDocumentSrc\n    this.props.handleDocumentUpdate(newDocumentSrc)\n  }\n  componentDidMount =()=>{\n    this.setState({windowHeight: window.innerHeight -325}) ;\n  }\n\n  toggleDrawer = (open) => (event) => {\n    \n    if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    // don't await this call\n    // poor mans async\n    //setTimeout(function() {\n     \n    //},0);\n    \n    this.setState({ ...this.state, isOpen: !this.state.isOpen });\n    //setTimeout(function() {\n    // this.props.refreshDocumentList()\n    //},100);\n  };\n\n  render() {\n\n\n    return (\n\n      \n        <Tooltip title=\"Import labels into the applicatoin\">     \n          <ListItem onClick={()=>{this.props.onImportLabels(this.props.importLabelFilename)}} button key=\"import-labels\">            \n          <ListItemText primary=\"Import Labels\" secondary=\"Load Predicted Labels\"/>       \n          <GTranslateIcon/>            \n          </ListItem>\n        </Tooltip>   \n      \n    );\n  }\n}\n\nexport default GenerateCsvButton;","import * as React from \"react\";\nimport { CardContent, Checkbox, FormControlLabel, Grid, IconButton, Input, List, TextField, Tooltip, Typography } from \"@material-ui/core\"\nimport GenerateCsvButton from \"./GenerateCsvButton\"\nimport ImportLabelsButton from \"./ImportLabelsButton\"\nimport Item from \"./Item\"\nimport UserConfig from \"./lib/UserConfig\";\nimport RefreshRoundedIcon from '@material-ui/icons/RefreshRounded';\n\n\nclass TrainingView extends React.Component {\n    state = {\n        csvFilename: '',\n        importLabelFilename:''\n    }\n    constructor(props) {\n      super(props);\n        this.handleChangeCsvFilename = this.handleChangeCsvFilename.bind(this)       \n        this.handleChangeImportLabelFilename = this.handleChangeImportLabelFilename.bind(this)   \n        this.config = new UserConfig(); \n        this.defaultFilename = `${this.config.bucketName}/training.csv`\n\n    }\n    \n    sampleImportLabelJson = {\n        \"prediction_regex_phash\": {\n            \"gs://docai_predictions_dev/Batch/converted_images/Converted_files-2021-11-03_102007/56849419_85222772_98512.png\": {\n                \"label\": \"00639_x\",\n                \"group\": null,\n                \"confidence_score\": 0.7\n            },\n            \"gs://docai_predictions_dev/Batch/converted_images/Converted_files-2021-11-03_102007/56849384_85222731_98512.png\": {\n                \"label\": \"group_2\",\n                \"group\": NaN,\n                \"confidence_score\": 0.3\n            },\n        }\n    }\n    componentDidMount() {\n        if (!this.state.csvFilename){\n            this.setState({csvFilename: this.defaultFilename})\n        }\n    }\n    \n    handleChangeImportLabelFilename(e){        \n         this.setState({importLabelFilename: e.target.value})\n    }\n    handleChangeCsvFilename(e){        \n         this.setState({csvFilename: e.target.value})\n    }\n    \n    render() {\n        return  <Grid style={{ margin: \"50px\" }}>    \n                <Grid>\n                    <h3>AutoML Training CSV</h3>     \n                    <table>\n                        <tr>\n                            <td valign=\"top\">\n                               GS:// <TextField  \n                                                            value={this.state.csvFilename}\n                                                         iu   onChange={this.handleChangeCsvFilename}\n                                                            />\n                                    <Tooltip title={`Reset training file path to default (${this.defaultFilename})`}>\n                                        <IconButton aria-label=\"delete\" size=\"small\" onClick={()=>{this.setState({csvFilename:this.defaultFilename})}}>\n                                            <RefreshRoundedIcon fontSize=\"inherit\" />\n                                        </IconButton>\n                                    </Tooltip>\n                                </td><td valign=\"top\">\n                                <Item>\n                                    <GenerateCsvButton {...this.props} csvFilename={this.state.csvFilename} />\n                                </Item>\n                            </td>\n                        </tr> \n                    </table>\n                </Grid>\n                <Grid>    \n                     <h3>Import Labels</h3>     \n                    <table>\n                        <tr>\n                            <td valign=\"top\">\n                                GS:// <TextField  \n                                    value={this.state.importLabelFilename}\n                                    onChange={this.handleChangeImportLabelFilename}\n                                    /><br/>\n                                                                                        \n                                <FormControlLabel control={<Checkbox defaultChecked color=\"primary\"/>} label=\"Copy Files ?\" />\n                            </td><td valign=\"top\"> \n                                <Item>\n                                    <ImportLabelsButton {...this.props} importLabelFilename={this.state.importLabelFilename}\n                                     />\n                                </Item>\n                            </td>\n                            <td></td>\n                            <td valign=\"top\">{this.props.labelsImported? <Typography color=\"primary\"><b>Import Status</b>: {this.props.labelsImported}</Typography>: ''} </td>\n                        </tr>\n                        </table>\n                        <h3>Import Label Format </h3>\n                        <pre>{JSON.stringify(this.sampleImportLabelJson, null, 2)}</pre>\n                        \n                </Grid>                \n            </Grid>\n    }\n}export default TrainingView","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n\n*/\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport AppHeader from \"./AppHeader.js\";\nimport UserConfig from \"./lib/UserConfig.js\";\n\nimport ModalPopup from \"./ModalPopup.js\";\nimport LabelsApi from \"./api/LabelsApi.js\";\nimport DocumentListApi from \"./api/DocumentListApi.js\";\nimport GenerateCsvApi from \"./api/GenerateCsvApi.js\";\n\n//Sidebar Components\nimport Sidebar from \"./Sidebar.js\";\nimport { withRouter } from \"react-router-dom\";\nimport { Divider, Grid, Typography, Box } from \"@material-ui/core\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport List from \"@material-ui/core/ListItemText\";\n\n//Grid View of the document list\nimport DocumentView from \"./DocumentView.js\";\n\n//Search Bar Component\nimport SearchBar from \"material-ui-search-bar\";\n\n//TabPanel function for adding tabs\nimport { TabPanel } from \"./TabularView.js\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport AppBar from \"@material-ui/core/AppBar\";\n\n//Transition for tabs\nimport SwipeableViews from \"react-swipeable-views\";\n\n//Tab icons\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\";\nimport LaptopMacIcon from \"@material-ui/icons//LaptopMac\";\nimport EqualizerIcon from \"@material-ui/icons/Equalizer\";\n\nimport TrainingView from \"./TrainingView\";\n\n\n\nclass App extends Component {\n  state = {\n\n    selectedKeys: [],\n    selectedLabel: \"None\",\n    selectedModelHash: null,\n    filter: \"\",\n    documentList: [],\n    autoMLModelList: [],\n    autoMLPrediction: false,\n    tabValue: 0,\n    error: {\n      title: null,\n      content: null,\n      isOpen: false,\n    },\n    alert: {\n      title: null,\n      content: null,\n      isOpen: false,\n    },\n    labels: [], // {f_1232:23,f_1232:1,f_1232:15} // associative array key is labelname, count is value\n    labelsFiltered: [],\n    documentListFiltered:[],\n\n    // used during import process only\n    labelsImported: \"\"\n  };\n\n  // TODO: Refactor all API calls to another library\n  // TODO: Switch to using context for access token instead of state\n  constructor(props, context) {\n    super(props, context);\n    // This binding is necessary to make `this` work in the callback\n    this.refreshDocumentList = this.refreshDocumentList.bind(this);\n    //this.handleDocumentUpdate = this.handleDocumentUpdate.bind(this);\n    this.forceUpdateHandler = this.forceUpdateHandler.bind(this);\n    this.handleErrorClose = this.handleErrorClose.bind(this);\n\n    this.handleApplyLabelToDocument = this.handleApplyLabelToDocument.bind(this);\n    this.handleApplyLabelToMulitpleDocuments = this.handleApplyLabelToMulitpleDocuments.bind(this);\n\n    \n    this.refreshLabels = this.refreshLabels.bind(this);\n    this.handleLabelSelected = this.handleLabelSelected.bind(this);\n\n    this.handleLabelAdded = this.handleLabelAdded.bind(this);\n\n    this.handleLabelRemoved = this.handleLabelRemoved.bind(this);\n\n    //this.loadCsv = this.loadCsv.bind(this)\n    this.generateCsv = this.generateCsv.bind(this);\n    this.handleImportLabels = this.handleImportLabels.bind(this);\n    \n    this.setError = this.setError.bind(this);\n    this.setAlert = this.setAlert.bind(this);\n    // this.refreshAutoMLModelList = this.refreshAutoMLModelList.bind(this)\n    // set selected document from the url string\n    this.state.selectedDocument = window.location.pathname.replace(/^\\/+/g, \"\");\n    this.config = new UserConfig();\n\n\n    this.handleChangeLabel=this.handleChangeLabel.bind(this)\n\n  }\n\n  // this is evil but i don't fully understand react cest la vie\n  forceUpdateHandler() {\n    // I think i understand react now! key property is needed  for re renders to happend based on updated (props) properties :)\n    // this.forceUpdate();\n  }\n\n\n  async componentDidMount() {\n    // Call our fetch function below once the component mounts\n\n    \n    await this.refreshLabels();\n    await this.refreshDocumentList();\n    await this.handleChangeLabel();\n    \n  }\n\n\n  setError(text, title = \"Error\") {\n    var error = this.state.error;\n    error.title = title;\n    error.content = text;\n    error.isOpen = true;\n    this.setState({ ...this.state, error });\n  }\n\n  setAlert(text, title = \"Alert\") {\n    var alert = this.state.alert;\n    alert.title = title;\n    alert.content = text;\n    alert.isOpen = true;\n    this.setState({ ...this.state, alert });\n  }\n\n  // also closes alert box\n  handleErrorClose() {\n    let error = this.state.error;\n    error.isOpen = false;\n\n    let alert = this.state.alert;\n    alert.isOpen = false;\n\n    this.setState({ ...this.state, alert, error });\n  }\n  // refresh app \n  async refreshAll() {\n    \n      this.refreshDocumentList()\n      this.refreshLabels()\n      this.handleChangeLabel()\n    \n  }\n\n  async refreshLabels() {\n    try {\n      var lApi = new LabelsApi();\n      var labels = await lApi.getLabels();\n      return this.setState({ labels: labels });\n    } catch (err) {\n      this.setError(\"Could Not refresh Labels\", err.message);\n    }\n  }\n\n  async handleApplyLabelToMulitpleDocuments(selectedDocumentIndexes, labelName) {\n    // do a quick refresh of the state first.\n    var documentList = this.state.documentList\n    \n    for (let idx in selectedDocumentIndexes) {\n      let doc = this.state.documentListFiltered[idx];\n      this.handleApplyLabelToDocument(labelName, doc.filename)\n    }    \n  }\n  \n  async handleApplyLabelToDocument(labelName, filename) {\n    var lApi = new LabelsApi();\n    lApi.setLabel(labelName, filename);\n    var prevLabelName = \"\"\n\n    // do a quick refresh of the state first.\n    var documentList = this.state.documentList\n    for (var idx in documentList) {\n\n      if (documentList[idx].filename == filename) {\n        prevLabelName = documentList[idx].labelName\n        documentList[idx].labelName=labelName\n        break;\n      }\n    }\n\n    // also quick refresh the label counts\n    // so decrement prevLabelName, and increment labelName\n    var labels = this.state.labels\n\n\n    for (var currentLabel in this.state.labels) {\n      if (currentLabel == prevLabelName) {\n        labels[currentLabel]--\n      }\n      if (currentLabel == labelName) {\n        labels[currentLabel]++\n      }\n    }\n\n\n    await this.setState({documentList: documentList, labels:labels})\n\n    // update document list filtered\n    await this.handleChangeLabel()\n\n    // we don't need to do this but maybe it should run async?\n    // return this.refreshAll()\n  }\n\n  async handleLabelSelected(labelName) {\n   await this.setState({ selectedLabel: labelName });\n   await this.handleChangeLabel()\n  }\n\n \n  async handleLabelRemoved(labelName) {\n    var lApi = new LabelsApi();\n\n    await lApi.removeLabel(labelName);\n    await this.refreshLabels();\n  }\n\n  async handleLabelAdded(labelName) {\n    try {\n      var lApi = new LabelsApi();\n      await lApi.addLabel(labelName);\n      await this.refreshLabels();\n    } catch (err) {\n      this.setError(\"Could Not Add Label \" + labelName, err.message);\n    }\n  }\n  // ====== Import labels =====\n  async handleImportLabels(labelPath) {\n    this.setState({labelsImported: \"Initializing...\"})\n    var labelsApi = new LabelsApi(this.state.accessToken);\n    if (!this.canLoadDocumentList()) {\n      console.log(\n        \"Missing bucket, or no selected document. Not calling importLabels .\"\n      );\n      return;\n    }\n    try {\n\n      if (! labelPath ) { throw new Error(\"Missing Label Path\")}\n      labelsApi.importLabels(labelPath, (progress)=>{\n          this.setState({labelsImported: progress})        \n      });\n      \n      return this.refreshAll()\n\n    } catch (err) {\n      this.setError(err.message, \"Could not Import Labels\");\n    }\n  }\n\n  // ====== Generate CSV =====\n  async generateCsv() {\n    var csvApi = new GenerateCsvApi(this.state.accessToken);\n    if (!this.canLoadDocumentList()) {\n      console.log(\n        \"Missing bucket, or no selected document. Not calling generateCsv .\"\n      );\n      return;\n    }\n    try {\n      return csvApi.generateCsv();\n    } catch (err) {\n      this.setError(err.message, \"Could not Generate CSV\");\n    }\n  }\n\n  //====== CLOUD STORAGE =======\n  // does the current state of the app mean we can try to load the document?\n  canLoadDocument() {\n    return this.config.bucketName && this.state.selectedDocument;\n  }\n\n  canLoadDocumentList() {\n    return this.config.bucketName;\n  }\n\n  filterLabels(filter) {\n    this.setState({\n      labelsFiltered: Object.keys(this.state.labels).filter((item) =>\n        item.toLowerCase().includes(filter.toLowerCase())\n      ),\n    });\n\n    console.log(this.state.labelsFiltered, \"new filter array\");\n  }\n\n  //Filter Label Handler\n  handleSearchBarchChange(filterText) {\n    this.setState({\n      filter: filterText,\n    });\n    this.filterLabels(this.state.filter);\n    console.log(this.state.filter, \"recording the filter inputs\");\n  }\n\n  //Clear Filter Handler\n  handleSerachBarClear() {\n    this.setState({\n      filter: \"\",\n    });\n    console.log(this.state.filter, \"clear search filter\");\n  }\n\n  a11yProps(index) {\n    return {\n      id: `simple-tab-${index}`,\n      \"aria-controls\": `simple-tabpanel-${index}`,\n    };\n  }\n\n  handleChange(newValue) {\n    const tabId = newValue.currentTarget.attributes[1].ownerElement.id;\n    this.setState({ tabValue: parseInt(tabId.substr(tabId.length - 1)) });\n\n    console.log(this.state.tabValue, \"tabs\");\n  }\n\n\n  handleChangeLabel(){\n  let documentList =this.state.documentList;\n  let filteredList=[];\n  for (var i = 0; i < documentList.length; i++) {\n    let doc = documentList[i];\n\n    if (this.state.selectedLabel == \"None\") {\n      if (!doc.labelName || doc.labelName == \"None\") {\n        filteredList.push(doc);\n      }\n    } else if (doc.labelName == this.state.selectedLabel) {\n      filteredList.push(doc);\n    }\n  }\n  return this.setState({documentListFiltered: filteredList})\n}\n\n\n  async refreshDocumentList() {\n    console.log(\"refreshDocumentList??!?!?\");\n    if (!this.canLoadDocumentList()) {\n      console.log(\n        \"Missing bucket, or no selected document. Not loading document list.\"\n      );\n      return;\n    }\n\n    try {\n      var dlApi = new DocumentListApi(this.state.accessToken);\n      var documents = await dlApi.loadDocumentList();      \n     return this.setState({ ...this.state, documentList: documents });\n     \n    } catch (err) {\n      if (err.message == \"Not Found\")\n        this.setError(\n          \"Bucket '\" + this.config.bucketName + \"' \" + err.message,\n          \"Bucket Not Found\"\n        );\n      else this.setError(err.message, \"Could not List Documents\");\n    }\n  }\n\n  handleSelection (selectedKeys) {\n  \tthis.setState({ selectedKeys });\n  }\n\n\n  \n  render() {\n    console.log(this.state.selectedLabel,\"labelname\")\n    return (\n      <div className=\"App\">\n        <ModalPopup\n          title={this.state.error.title}\n          content={this.state.error.content}\n          open={this.state.error.isOpen}\n          onClose={this.handleErrorClose}\n        />\n        <ModalPopup\n          title={this.state.alert.title}\n          content={this.state.alert.content}\n          open={this.state.alert.isOpen}\n          severity=\"info\"\n          onClose={this.handleErrorClose}\n        />\n        <AppHeader\n          // TODO: use context this is getting messy\n          selectedDocument={this.state.selectedDocument}\n          setError={this.setError}\n          setAlert={this.setAlert}\n          //loadCsv = {this.loadCsv}\n          generateCsv={this.generateCsv}\n          userProfile={this.state.userProfile}\n          documentList={this.state.documentList}\n          refreshDocumentList={this.refreshDocumentList}\n          handleDocumentUpdate={this.handleDocumentUpdate}\n        />\n       \n\n        <Box sx={{ width: \"100%\" }}>\n          <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\n            <AppBar position=\"static\">\n              <Tabs\n                value={this.state.tabValue}\n                onChange={(newValue) => this.handleChange(newValue)}\n                aria-label=\"basic tabs example\"\n                variant=\"fullWidth\"\n              >\n                <Tab\n                  label=\"Document Labelling View\"\n                  icon={<NoteAddIcon />}\n                  {...this.a11yProps(0)}\n                />\n\n                <Tab\n                  label=\"Training View\"\n                  icon={<LaptopMacIcon />}\n                  {...this.a11yProps(1)}\n                />\n                <Tab\n                  label=\"Model Manager View\"\n                  icon={<EqualizerIcon />}\n                  {...this.a11yProps(2)}\n                />\n              </Tabs>\n            </AppBar>\n          </Box>\n          <SwipeableViews\n            index={this.state.tabValue}\n            onChangeIndex={(newValue) => this.handleChange(newValue)}\n          >\n            <TabPanel value={this.state.tabValue} index={0}>\n              <Grid container>\n                <Grid item xs={2}>\n                  <Divider />\n                  <List color=\"primary\">\n                    <ListItem key=\"labeled\">\n                      <h3>Document Labels &amp; Clusters</h3>\n                    </ListItem>\n                  </List>\n                  <SearchBar\n                    placeholder=\"Type here to Filter Labels\"\n                    value={\"\"}\n                    onChange={(filterText) =>\n                      this.handleSearchBarchChange(filterText)\n                    }\n                    onCancelSearch={() => this.handleSerachBarClear()}\n                  />\n\n                  <Sidebar\n                    labels={this.state.labels}\n                    labelsFiltered={this.state.labelsFiltered}\n                    filter={this.state.filter}\n                    onLabelSelected={this.handleLabelSelected}\n                    onLabelAdded={this.handleLabelAdded}\n                    onLabelRemoved={this.handleLabelRemoved}\n                    selectedLabel={this.state.selectedLabel}\n                    generateCsv={this.generateCsv}\n                    setError={this.setError}\n                    setAlert={this.setAlert}\n                  />\n                </Grid>\n\n                <Grid item xs={10} >\n                  <h1>Document List</h1>\n\n                  <Box sx={{ flexGrow: 2 }}>\n                    <DocumentView\n                      labels={this.state.labels}\n                      documentListFiltered={this.state.documentListFiltered} \n                      onApplyLabelToDocument={this.handleApplyLabelToDocument}\n                      onApplyLabelToMultipleDocuments={this.handleApplyLabelToMulitpleDocuments}\n                      selectedLabel={this.state.selectedLabel}\n                      key={this.state.selectedLabel}\n                    />\n                  </Box>\n                </Grid> \n              </Grid>\n            </TabPanel>\n            <TabPanel value={this.state.tabValue} index={1}>\n              <TrainingView\n                        labelsImported={this.state.labelsImported}\n                        onImportLabels={this.handleImportLabels}\n                        generateCsv={this.generateCsv}\n                        setError={this.setError}\n                        setAlert={this.setAlert}\n                        />\n            </TabPanel>\n            <TabPanel value={this.state.tabValue} index={2}>\n              In Progress\n            </TabPanel>\n          </SwipeableViews>\n        </Box>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/*\n# Copyright 2020 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#            http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n*/\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}